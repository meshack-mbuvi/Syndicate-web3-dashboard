[build]
  functions = "functions/build"
  command = "CI='' npm run build && npm run lambda-build"

[functions]
  directory = "functions/build"

[[plugins]]
  package = 'netlify-plugin-contextual-env'
  [plugins.inputs]
    mode = 'prefix'

[[headers]]
    for = "/manifest.json"
    [headers.values]
      Access-Control-Allow-Origin = "*"

[[headers]]
  for = "/.netlify/functions/getCoinInfoByContractAddress/*"
  [headers.values]
    cache-control = "s-maxage=86401"

[build.environment]
  NODE_OPTIONS = "--max_old_space_size=8192"

[[redirects]]
  from = "/syndicates/*"
  to = "https://v1.syndicate.io/syndicates/:splat"
